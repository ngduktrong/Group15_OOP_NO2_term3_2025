<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Rạp Chiếu Phim</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet"  th:href="@{/css/admin-dashboard.css}" />
        
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="brand">
            <i class="fas fa-film"></i>
            <span>MovieAdmin</span>
        </div>
        <nav class="sidebar-nav">
            <ul>
                <li><a th:href="@{/admin}" class="active"><span class="icon"><i class="fas fa-home"></i></span><span>Dashboard</span></a></li>
                <li><a th:href="@{/nguoidung}"><span class="icon"><i class="fas fa-users"></i></span><span>Người Dùng</span></a></li>
                <!-- Bổ sung mục Nhân viên -->
                <li><a th:href="@{/nhanvien}"><span class="icon"><i class="fas fa-user-tie"></i></span><span>Nhân Viên</span></a></li>
                <li><a th:href="@{/phim}"><span class="icon"><i class="fas fa-video"></i></span><span>Phim</span></a></li>
                <li><a th:href="@{/phongchieu}"><span class="icon"><i class="fas fa-theater-masks"></i></span><span>Phòng Chiếu</span></a></li>
                <li><a th:href="@{/suatchieu}"><span class="icon"><i class="fas fa-clock"></i></span><span>Suất Chiếu</span></a></li>
                <li><a th:href="@{/hoadon}"><span class="icon"><i class="fas fa-receipt"></i></span><span>Hóa Đơn</span></a></li>
                <li><a th:href="@{/ve}"><span class="icon"><i class="fas fa-ticket-alt"></i></span><span>Vé</span></a></li>
                <li><a th:href="@{/reports}"><span class="icon"><i class="fas fa-chart-bar"></i></span><span>Báo Cáo</span></a></li>
                <li><a th:href="@{/logs}"><span class="icon"><i class="fas fa-history"></i></span><span>Nhật Ký</span></a></li>
            </ul>
        </nav>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Topbar -->
        <header class="topbar">
            <div class="search-bar">
                <input type="text" placeholder="Tìm kiếm..." />
                <button><i class="fas fa-search"></i></button>
            </div>
            <div class="user-menu">
                <div class="user-info">
                    <div class="user-avatar">A</div>
                    <span class="user-name">Admin</span>
                </div>
                <a th:href="@{/logout}" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Đăng Xuất</span>
                </a>
            </div>
        </header>
        
        <!-- Stats Cards - Bổ sung thẻ Nhân viên -->
        <section class="stats-cards">
            <div class="card">
                <h3><i class="fas fa-users"></i> Người Dùng</h3>
                <p class="value" th:text="${userCount}">0</p>
            </div>
            <div class="card">
                <h3><i class="fas fa-film"></i> Phim</h3>
                <p class="value" th:text="${movieCount}">0</p>
            </div>
            <div class="card">
                <h3><i class="fas fa-clock"></i> Suất Chiếu</h3>
                <p class="value" th:text="${showCount}">0</p>
            </div>
            <div class="card">
                <h3><i class="fas fa-receipt"></i> Hóa Đơn</h3>
                <p class="value" th:text="${invoiceCount}">0</p>
            </div>
            <div class="card">
                <h3><i class="fas fa-user-tie"></i> Nhân Viên</h3>
                <p class="value" th:text="${employeeCount}">0</p>
            </div>
        </section>
        
        <!-- Action Buttons - Bổ sung nút Thêm Nhân Viên -->
        <section class="action-buttons">
            <a th:href="@{/nguoidung/new}" class="btn-add">
                <i class="fas fa-plus"></i>
                <span>Thêm Người Dùng</span>
            </a>
            <a th:href="@{/phim/new}" class="btn-add">
                <i class="fas fa-plus"></i>
                <span>Thêm Phim</span>
            </a>
            <a th:href="@{/nhanvien/new}" class="btn-add btn-employee">
                <i class="fas fa-plus"></i>
                <span>Thêm Nhân Viên</span>
            </a>
        </section>
        
        <!-- Phần quản lý nhân viên mới -->
        <section class="employee-section">
            <!-- Danh sách nhân viên mới -->
            <div class="employee-card">
                <h2><i class="fas fa-user-plus"></i> Nhân Viên Mới</h2>
                <div class="employee-list">
                    <div class="employee-item">
                        <div class="employee-avatar">TN</div>
                        <div class="employee-info">
                            <div class="employee-name">Trần Ngọc Anh</div>
                            <div class="employee-position">Nhân viên bán vé</div>
                        </div>
                        <div class="employee-actions">
                            <div class="action-btn edit-btn">
                                <i class="fas fa-edit"></i>
                            </div>
                            <div class="action-btn delete-btn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="employee-item">
                        <div class="employee-avatar">LM</div>
                        <div class="employee-info">
                            <div class="employee-name">Lê Minh Quân</div>
                            <div class="employee-position">Quản lý rạp</div>
                        </div>
                        <div class="employee-actions">
                            <div class="action-btn edit-btn">
                                <i class="fas fa-edit"></i>
                            </div>
                            <div class="action-btn delete-btn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="employee-item">
                        <div class="employee-avatar">PT</div>
                        <div class="employee-info">
                            <div class="employee-name">Phạm Thị Hương</div>
                            <div class="employee-position">Nhân viên vệ sinh</div>
                        </div>
                        <div class="employee-actions">
                            <div class="action-btn edit-btn">
                                <i class="fas fa-edit"></i>
                            </div>
                            <div class="action-btn delete-btn">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Nhân viên xuất sắc -->
            <div class="employee-card">
                <h2><i class="fas fa-medal"></i> Nhân Viên Xuất Sắc</h2>
                <div class="employee-list">
                    <div class="employee-item">
                        <div class="employee-avatar">NV</div>
                        <div class="employee-info">
                            <div class="employee-name">Nguyễn Văn Đạt</div>
                            <div class="employee-position">Quản lý phòng chiếu</div>
                        </div>
                        <div class="rating">
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                        </div>
                    </div>
                    
                    <div class="employee-item">
                        <div class="employee-avatar">HT</div>
                        <div class="employee-info">
                            <div class="employee-name">Hoàng Thị Mai</div>
                            <div class="employee-position">Nhân viên bán vé</div>
                        </div>
                        <div class="rating">
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star-half-alt" style="color: gold;"></i>
                        </div>
                    </div>
                    
                    <div class="employee-item">
                        <div class="employee-avatar">VQ</div>
                        <div class="employee-info">
                            <div class="employee-name">Vũ Quang Huy</div>
                            <div class="employee-position">Kỹ thuật viên</div>
                        </div>
                        <div class="rating">
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="fas fa-star" style="color: gold;"></i>
                            <i class="far fa-star" style="color: gold;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Recent Transactions -->
        <section class="recent-table">
            <h2><i class="fas fa-exchange-alt"></i> Giao Dịch Gần Đây</h2>
            <table>
                <thead>
                    <tr>
                        <th>Mã Đơn</th>
                        <th>Khách Hàng</th>
                        <th>Ngày</th>
                        <th>Tổng Tiền</th>
                        <th>Trạng Thái</th>
                        <th>Nhân viên</th>
                    </tr>
                </thead>
                <tbody th:each="inv : ${recentInvoices}">
                    <tr>
                        <td th:text="${inv.id}">#INV001</td>
                        <td th:text="${inv.customerName}">Nguyễn Văn A</td>
                        <td th:text="${inv.date}">12/06/2023</td>
                        <td th:text="${'₫' + #numbers.formatDecimal(inv.total, 0, 'COMMA', 0, 'POINT')}">₫350,000</td>
                        <td>
                            <span class="status status-paid" th:if="${inv.status == 'Đã thanh toán'}">Đã thanh toán</span>
                            <span class="status status-pending" th:if="${inv.status == 'Chờ xử lý'}">Chờ xử lý</span>
                            <span class="status status-canceled" th:if="${inv.status == 'Đã hủy'}">Đã hủy</span>
                        </td>
                        <td th:text="${inv.employee}">Nguyễn Thị B</td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <!-- Footer -->
        <footer>
            <p>© 2023 Hệ Thống Quản Lý Rạp Chiếu Phim | Phiên bản 1.1.0 (Bổ sung quản lý nhân viên)</p>
        </footer>
    </div>
</body>
</html>