<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>ğŸ¬ Quáº£n lÃ½ Phim</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #f4f7f9; margin: 30px; }
    h1 { color: #2c3e50; }
    form, table { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); margin-bottom: 30px; }
    input, textarea, select, button {
      width: 100%; padding: 10px; margin: 8px 0; border: 1px solid #ccc; border-radius: 6px;
    }
    button { background: #2ecc71; color: white; cursor: pointer; border: none; }
    button:hover { background: #27ae60; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 12px; border: 1px solid #e1e1e1; text-align: left; }
    th { background: #3498db; color: white; }
    tr:hover { background: #f2f2f2; }
    .actions { display: flex; gap: 6px; }
    .message { color: green; font-weight: bold; margin-bottom: 10px; }
    img { width: 60px; }
  </style>
</head>
<body>

<h1>ğŸ¬ Quáº£n lÃ½ phim</h1>

<!-- âœ… ThÃ´ng bÃ¡o -->
<div th:if="${message}" class="message" th:text="${message}"></div>

<!-- âœ… Form thÃªm / sá»­a -->
<form th:action="@{${editMode} ? '/phim/edit/' + ${phim.maPhim} : '/phim/add'}" method="post" th:object="${phim}">
  <input type="hidden" th:field="*{maPhim}"/>
  <label>TÃªn phim:</label> <input type="text" th:field="*{tenPhim}" required/>
  <label>Thá»i lÆ°á»£ng (phÃºt):</label> <input type="number" th:field="*{thoiLuong}" min="1" required/>
  <label>NgÃ y khá»Ÿi chiáº¿u:</label> <input type="date" th:field="*{ngayKhoiChieu}" required/>
  <label>Quá»‘c gia:</label> <input type="text" th:field="*{nuocSanXuat}" required/>
  <label>Äá»‹nh dáº¡ng:</label> <input type="text" th:field="*{dinhDang}" required/>
  <label>Äáº¡o diá»…n:</label> <input type="text" th:field="*{daoDien}" required/>
  <label>MÃ´ táº£:</label> <textarea th:field="*{moTa}" rows="3"></textarea>
  <label>Poster (file name):</label> <input type="text" th:field="*{duongDanPoster}"/>
  <button type="submit" th:text="${editMode} ? 'Cáº­p nháº­t phim' : 'ThÃªm phim'"></button>
</form>

<!-- âœ… Danh sÃ¡ch phim -->
<table>
  <thead>
    <tr>
      <th>MÃ£</th><th>TÃªn</th><th>Thá»i lÆ°á»£ng</th><th>NgÃ y chiáº¿u</th><th>Q.Gia</th>
      <th>Äá»‹nh dáº¡ng</th><th>Äáº¡o diá»…n</th><th>MÃ´ táº£</th><th>Poster</th><th>Thao tÃ¡c</th>
    </tr>
  </thead>
  <tbody>
    <tr th:each="p : ${phims}">
      <td th:text="${p.maPhim}"/>
      <td th:text="${p.tenPhim}"/>
      <td th:text="${p.thoiLuong}"/>
      <td th:text="${p.ngayKhoiChieu}"/>
      <td th:text="${p.nuocSanXuat}"/>
      <td th:text="${p.dinhDang}"/>
      <td th:text="${p.daoDien}"/>
      <td th:text="${p.moTa}"/>
      <td><img th:src="@{'/images/' + ${p.duongDanPoster}}" alt="Poster"/></td>
      <td class="actions">
        <a th:href="@{'/phim/edit/' + ${p.maPhim}}">âœï¸</a>
        <form th:action="@{'/phim/delete/' + ${p.maPhim}}" method="post" style="display:inline;">
          <button type="submit" onclick="return confirm('XoÃ¡ phim nÃ y?')">ğŸ—‘ï¸</button>
        </form>
      </td>
    </tr>
  </tbody>
</table>

</body>
</html>
