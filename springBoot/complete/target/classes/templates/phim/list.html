<!-- src/main/resources/templates/phim/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>üé¨ Danh s√°ch Phim</title>
    <!-- N·∫øu c√≥ CSS custom, ƒë·∫∑t file ·ªü src/main/resources/static/css/style.css -->
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <style>
        /* M·ªôt s·ªë style c∆° b·∫£n ƒë·ªÉ b·∫£ng g·ªçn g√†ng */
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #999;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #eee;
        }
        img.poster {
            max-width: 100px;
            max-height: 150px;
        }
        .truncate {
            max-width: 200px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    </style>
</head>
<body>
    <h2>üé¨ Danh s√°ch Phim trong h·ªá th·ªëng</h2>
    <a th:href="@{/phim/add}">Th√™m phim m·ªõi</a>
    <br/><br/>
    <table>
        <thead>
            <tr>
                <th>M√£ Phim</th>
                <th>Ti√™u ƒë·ªÅ</th>
                <th>Th·ªùi l∆∞·ª£ng (ph√∫t)</th>
                <th>Ng√†y kh·ªüi chi·∫øu</th>
                <th>N∆∞·ªõc s·∫£n xu·∫•t</th>
                <th>ƒê·ªãnh d·∫°ng</th>
                <th>ƒê·∫°o di·ªÖn</th>
                <th>M√¥ t·∫£</th>
                <th>Poster</th>
                <th>H√†nh ƒë·ªông</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="phim : ${phims}">
                <!-- M√£ Phim -->
                <td th:text="${phim.maPhim}">1</td>
                <!-- Ti√™u ƒë·ªÅ -->
                <td th:text="${phim.tenPhim}">T√™n phim</td>
                <!-- Th·ªùi l∆∞·ª£ng -->
                <td th:text="${phim.thoiLuong}">120</td>
                <!-- Ng√†y kh·ªüi chi·∫øu -->
                <td th:text="${phim.ngayKhoiChieu}">2025-01-01</td>
                <!-- N∆∞·ªõc s·∫£n xu·∫•t -->
                <td th:text="${phim.nuocSanXuat}">Vi·ªát Nam</td>
                <!-- ƒê·ªãnh d·∫°ng -->
                <td th:text="${phim.dinhDang}">2D/3D/etc</td>
                <!-- ƒê·∫°o di·ªÖn -->
                <td th:text="${phim.daoDien}">T√™n ƒë·∫°o di·ªÖn</td>
                <!-- M√¥ t·∫£ (c√≥ th·ªÉ truncate n·∫øu qu√° d√†i) -->
                <td>
                    <span class="truncate" th:title="${phim.moTa}" th:text="${phim.moTa}">M√¥ t·∫£ ng·∫Øn...</span>
                </td>
                <!-- Poster (h√¨nh ·∫£nh) n·∫øu c√≥ URL h·ª£p l·ªá -->
                <td>
                    <img class="poster"
                         th:if="${phim.duongDanPoster != null and phim.duongDanPoster != ''}"
                         th:src="@{${phim.duongDanPoster}}"
                         alt="Poster phim"/>
                    <span th:if="${phim.duongDanPoster == null or phim.duongDanPoster == ''}">Ch∆∞a c√≥</span>
                </td>
                <!-- H√†nh ƒë·ªông: S·ª≠a / X√≥a -->
                <td>
                    <a th:href="@{|/phim/edit/${phim.maPhim}|}">S·ª≠a</a> |
                    <a th:href="@{|/phim/delete/${phim.maPhim}|}"
                       onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a phim n√†y?');">
                       X√≥a
                    </a>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- N·∫øu danh s√°ch r·ªóng: -->
    <p th:if="${#lists.isEmpty(phims)}">Kh√¥ng c√≥ d·ªØ li·ªáu phim ƒë·ªÉ hi·ªÉn th·ªã.</p>
</body>
</html>
