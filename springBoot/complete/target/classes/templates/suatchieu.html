<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>üé¨ Qu·∫£n l√Ω Su·∫•t Chi·∫øu</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<div class="container">
    <h1>üé¨ Qu·∫£n l√Ω Su·∫•t Chi·∫øu</h1>

    <!-- Th√¥ng b√°o -->
    <div th:if="${message}" style="color: green; font-weight: bold;">
        <p th:text="${message}"></p>
    </div>

    <!-- Form th√™m/s·ª≠a -->
    <form th:action="@{${editMode} ? '/suatchieu/edit' : '/suatchieu/add'}"
          th:object="${suatchieu}" method="post">
        <input type="hidden" th:field="*{maSuatChieu}"/>

        <label>M√£ Phim:</label>
        <input type="number" th:field="*{maPhim}" required/><br/>

        <label>M√£ Ph√≤ng:</label>
        <input type="number" th:field="*{maPhong}" required/><br/>

        <label>Ng√†y Gi·ªù Chi·∫øu:</label>
        <input type="datetime-local" th:field="*{ngayGioChieu}" required/><br/>

        <button type="submit" th:text="${editMode} ? 'C·∫≠p nh·∫≠t' : 'Th√™m m·ªõi'"></button>
        <a th:href="@{/suatchieu}" style="margin-left: 10px;">H·ªßy</a>
    </form>

    <hr/>

    <!-- Danh s√°ch su·∫•t chi·∫øu -->
    <h2>üìã Danh s√°ch Su·∫•t Chi·∫øu</h2>
    <table border="1">
        <thead>
        <tr>
            <th>M√£</th>
            <th>M√£ Phim</th>
            <th>M√£ Ph√≤ng</th>
            <th>Ng√†y Gi·ªù Chi·∫øu</th>
            <th>Thao t√°c</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="sc : ${suatchieuList}">
            <td th:text="${sc.maSuatChieu}"></td>
            <td th:text="${sc.maPhim}"></td>
            <td th:text="${sc.maPhong}"></td>
            <td th:text="${sc.ngayGioChieuFormatted}"></td>
            <td>
                <a th:href="@{'/suatchieu/edit/' + ${sc.maSuatChieu}}">‚úèÔ∏è S·ª≠a</a>
                <form th:action="@{'/suatchieu/delete/' + ${sc.maSuatChieu}}" method="post" style="display:inline;">
                    <button type="submit" onclick="return confirm('X√°c nh·∫≠n xo√° su·∫•t chi·∫øu n√†y?')">üóëÔ∏è Xo√°</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
